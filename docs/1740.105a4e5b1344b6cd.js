"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[1740],{1740:(ye,T,d)=>{d.d(T,{Vn:()=>k,rg:()=>be});var u=d(6814),e=d(9467),f=d(2129),h=d(5219),_=d(2076),x=d(7273),M=d(1239),y=d(4480),b=d(3259),r=d(2332);const C=["menubar"];function w(s,m){if(1&s&&(e.TgZ(0,"li",4),e._uU(1),e.qZA()),2&s){const t=e.oxw();e.Akn(t.getItemProp(t.submenu,"style")),e.Q6J("ngClass",t.getSubmenuHeaderClass(t.submenu)),e.xp6(1),e.Oqu(t.getItemLabel(t.submenu))}}function P(s,m){if(1&s&&e._UZ(0,"li",7),2&s){const t=e.oxw().$implicit,n=e.oxw();e.Akn(n.getItemProp(t,"style")),e.Q6J("ngClass",n.getSeparatorItemClass(t)),e.uIk("id",n.getItemId(t))("data-pc-section","separator")}}function L(s,m){if(1&s&&e._UZ(0,"span",20),2&s){const t=e.oxw(4).$implicit,n=e.oxw();e.Q6J("ngClass",n.getItemProp(t,"icon"))("ngStyle",n.getItemProp(t,"iconStyle")),e.uIk("data-pc-section","icon")("aria-hidden",!0)("tabindex",-1)}}function S(s,m){if(1&s&&(e.TgZ(0,"span",21),e._uU(1),e.qZA()),2&s){const t=e.oxw(4).$implicit,n=e.oxw();e.uIk("data-pc-section","label"),e.xp6(1),e.hij(" ",n.getItemLabel(t)," ")}}function E(s,m){if(1&s&&e._UZ(0,"span",22),2&s){const t=e.oxw(4).$implicit,n=e.oxw();e.Q6J("innerHTML",n.getItemLabel(t),e.oJD),e.uIk("data-pc-section","label")}}function A(s,m){if(1&s&&(e.TgZ(0,"span",23),e._uU(1),e.qZA()),2&s){const t=e.oxw(4).$implicit,n=e.oxw();e.Q6J("ngClass",n.getItemProp(t,"badgeStyleClass")),e.xp6(1),e.Oqu(n.getItemProp(t,"badge"))}}function F(s,m){1&s&&e._UZ(0,"AngleDownIcon",26),2&s&&(e.Q6J("styleClass","p-submenu-icon"),e.uIk("data-pc-section","submenuicon")("aria-hidden",!0))}function K(s,m){1&s&&e._UZ(0,"AngleRightIcon",26),2&s&&(e.Q6J("styleClass","p-submenu-icon"),e.uIk("data-pc-section","submenuicon")("aria-hidden",!0))}function Q(s,m){if(1&s&&(e.ynx(0),e.YNc(1,F,1,3,"AngleDownIcon",25)(2,K,1,3,"AngleRightIcon",25),e.BQk()),2&s){const t=e.oxw(6);e.xp6(1),e.Q6J("ngIf","horizontal"===t.orientation),e.xp6(1),e.Q6J("ngIf","vertical"===t.orientation)}}function O(s,m){}function J(s,m){1&s&&e.YNc(0,O,0,0,"ng-template"),2&s&&e.Q6J("data-pc-section","submenuicon")("aria-hidden",!0)}function D(s,m){if(1&s&&(e.ynx(0),e.YNc(1,Q,3,2,"ng-container",11)(2,J,1,2,null,24),e.BQk()),2&s){const t=e.oxw(5);e.xp6(1),e.Q6J("ngIf",!t.megaMenu.submenuIconTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",t.megaMenu.submenuIconTemplate)}}const v=s=>({"p-menuitem-link":!0,"p-disabled":s});function V(s,m){if(1&s&&(e.TgZ(0,"a",15),e.YNc(1,L,1,5,"span",16)(2,S,2,2,"span",17)(3,E,1,2,"ng-template",null,18,e.W1O)(5,A,2,2,"span",19)(6,D,3,2,"ng-container",11),e.qZA()),2&s){const t=e.MAs(4),n=e.oxw(3).$implicit,i=e.oxw();e.Q6J("target",i.getItemProp(n,"target"))("ngClass",e.VKq(12,v,i.getItemProp(n,"disabled"))),e.uIk("href",i.getItemProp(n,"url"),e.LSH)("aria-hidden",!0)("data-automationid",i.getItemProp(n,"automationId"))("data-pc-section","action")("tabindex",-1),e.xp6(1),e.Q6J("ngIf",i.getItemProp(n,"icon")),e.xp6(1),e.Q6J("ngIf",i.getItemProp(n,"escape"))("ngIfElse",t),e.xp6(3),e.Q6J("ngIf",i.getItemProp(n,"badge")),e.xp6(1),e.Q6J("ngIf",i.isItemGroup(n))}}function N(s,m){if(1&s&&e._UZ(0,"span",20),2&s){const t=e.oxw(4).$implicit,n=e.oxw();e.Q6J("ngClass",n.getItemProp(t,"icon"))("ngStyle",n.getItemProp(t,"iconStyle")),e.uIk("data-pc-section","icon")("aria-hidden",!0)("tabindex",-1)}}function Z(s,m){if(1&s&&(e.TgZ(0,"span",21),e._uU(1),e.qZA()),2&s){const t=e.oxw(4).$implicit,n=e.oxw();e.xp6(1),e.Oqu(n.getItemLabel(t))}}function B(s,m){if(1&s&&e._UZ(0,"span",22),2&s){const t=e.oxw(4).$implicit,n=e.oxw();e.Q6J("innerHTML",n.getItemLabel(t),e.oJD),e.uIk("data-pc-section","label")}}function R(s,m){if(1&s&&(e.TgZ(0,"span",23),e._uU(1),e.qZA()),2&s){const t=e.oxw(4).$implicit,n=e.oxw();e.Q6J("ngClass",n.getItemProp(t,"badgeStyleClass")),e.xp6(1),e.Oqu(n.getItemProp(t,"badge"))}}function $(s,m){1&s&&e._UZ(0,"AngleDownIcon",26),2&s&&(e.Q6J("styleClass","p-submenu-icon"),e.uIk("data-pc-section","submenuicon")("aria-hidden",!0))}function z(s,m){1&s&&e._UZ(0,"AngleRightIcon",26),2&s&&(e.Q6J("styleClass","p-submenu-icon"),e.uIk("data-pc-section","submenuicon")("aria-hidden",!0))}function U(s,m){if(1&s&&(e.ynx(0),e.YNc(1,$,1,3,"AngleDownIcon",25)(2,z,1,3,"AngleRightIcon",25),e.BQk()),2&s){const t=e.oxw(6);e.xp6(1),e.Q6J("ngIf","horizontal"===t.orientation),e.xp6(1),e.Q6J("ngIf","vertical"===t.orientation)}}function G(s,m){}function Y(s,m){1&s&&e.YNc(0,G,0,0,"ng-template"),2&s&&e.Q6J("data-pc-section","submenuicon")("aria-hidden",!0)}function q(s,m){if(1&s&&(e.ynx(0),e.YNc(1,U,3,2,"ng-container",11)(2,Y,1,2,null,24),e.BQk()),2&s){const t=e.oxw(5);e.xp6(1),e.Q6J("ngIf",!t.megaMenu.submenuIconTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",t.megaMenu.submenuIconTemplate)}}const H=()=>({exact:!1});function W(s,m){if(1&s&&(e.TgZ(0,"a",27),e.YNc(1,N,1,5,"span",16)(2,Z,2,1,"span",17)(3,B,1,2,"ng-template",null,28,e.W1O)(5,R,2,2,"span",19)(6,q,3,2,"ng-container",11),e.qZA()),2&s){const t=e.MAs(4),n=e.oxw(3).$implicit,i=e.oxw();e.Q6J("routerLink",i.getItemProp(n,"routerLink"))("queryParams",i.getItemProp(n,"queryParams"))("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",i.getItemProp(n,"routerLinkActiveOptions")||e.DdM(21,H))("target",i.getItemProp(n,"target"))("ngClass",e.VKq(22,v,i.getItemProp(n,"disabled")))("fragment",i.getItemProp(n,"fragment"))("queryParamsHandling",i.getItemProp(n,"queryParamsHandling"))("preserveFragment",i.getItemProp(n,"preserveFragment"))("skipLocationChange",i.getItemProp(n,"skipLocationChange"))("replaceUrl",i.getItemProp(n,"replaceUrl"))("state",i.getItemProp(n,"state")),e.uIk("data-automationid",i.getItemProp(n,"automationId"))("tabindex",-1)("aria-hidden",!0)("data-pc-section","action"),e.xp6(1),e.Q6J("ngIf",i.getItemProp(n,"icon")),e.xp6(1),e.Q6J("ngIf",i.getItemProp(n,"escape"))("ngIfElse",t),e.xp6(3),e.Q6J("ngIf",i.getItemProp(n,"badge")),e.xp6(1),e.Q6J("ngIf",i.isItemGroup(n))}}function j(s,m){if(1&s&&(e.ynx(0),e.YNc(1,V,7,14,"a",13)(2,W,7,24,"a",14),e.BQk()),2&s){const t=e.oxw(2).$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",!n.getItemProp(t,"routerLink")),e.xp6(1),e.Q6J("ngIf",n.getItemProp(t,"routerLink"))}}function X(s,m){}function ee(s,m){1&s&&e.YNc(0,X,0,0,"ng-template")}const te=s=>({$implicit:s});function ne(s,m){if(1&s&&(e.ynx(0),e.YNc(1,ee,1,0,null,29),e.BQk()),2&s){const t=e.oxw(2).$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",n.itemTemplate)("ngTemplateOutletContext",e.VKq(2,te,t.item))}}function ie(s,m){if(1&s){const t=e.EpF();e.TgZ(0,"p-megaMenuSub",35),e.NdJ("itemClick",function(i){e.CHM(t);const a=e.oxw(5);return e.KtG(a.itemClick.emit(i))})("itemMouseEnter",function(i){e.CHM(t);const a=e.oxw(5);return e.KtG(a.onItemMouseEnter(i))}),e.qZA()}if(2&s){const t=m.$implicit,n=e.oxw(5);e.Q6J("id",n.getSubListId(t))("submenu",t)("items",t.items)("itemTemplate",n.itemTemplate)("menuId",n.menuId)("focusedItemId",n.focusedItemId)("level",n.level+1)("root",!1)}}function se(s,m){if(1&s&&(e.TgZ(0,"div",33),e.YNc(1,ie,1,8,"p-megaMenuSub",34),e.qZA()),2&s){const t=m.$implicit,n=e.oxw(3).$implicit,i=e.oxw();e.Q6J("ngClass",i.getColumnClass(n)),e.xp6(1),e.Q6J("ngForOf",t)}}function ae(s,m){if(1&s&&(e.TgZ(0,"div",30)(1,"div",31),e.YNc(2,se,2,2,"div",32),e.qZA()()),2&s){const t=e.oxw(2).$implicit;e.uIk("data-pc-section","panel"),e.xp6(1),e.uIk("data-pc-section","grid"),e.xp6(1),e.Q6J("ngForOf",t.items)}}function oe(s,m){if(1&s){const t=e.EpF();e.TgZ(0,"li",8,9)(2,"div",10),e.NdJ("click",function(i){e.CHM(t);const a=e.oxw().$implicit,o=e.oxw();return e.KtG(o.onItemClick(i,a))})("mouseenter",function(i){e.CHM(t);const a=e.oxw().$implicit,o=e.oxw();return e.KtG(o.onItemMouseEnter({$event:i,processedItem:a}))}),e.YNc(3,j,3,2,"ng-container",11)(4,ne,2,4,"ng-container",11),e.qZA(),e.YNc(5,ae,3,3,"div",12),e.qZA()}if(2&s){const t=e.oxw(),n=t.$implicit,i=t.index,a=e.oxw();e.Tol(a.getItemProp(n,"styleClass")),e.Q6J("ngStyle",a.getItemProp(n,"style"))("ngClass",a.getItemClass(n))("tooltipOptions",a.getItemProp(n,"tooltipOptions")),e.uIk("id",a.getItemId(n))("data-pc-section","menuitem")("data-p-highlight",a.isItemActive(n))("data-p-focused",a.isItemFocused(n))("data-p-disabled",a.isItemDisabled(n))("aria-label",a.getItemLabel(n))("aria-disabled",a.isItemDisabled(n)||void 0)("aria-haspopup",a.isItemGroup(n)&&!a.getItemProp(n,"to")?"menu":void 0)("aria-expanded",a.isItemGroup(n)?a.isItemActive(n):void 0)("aria-level",a.level+1)("aria-setsize",a.getAriaSetSize())("aria-posinset",a.getAriaPosInset(i)),e.xp6(2),e.uIk("data-pc-section","content"),e.xp6(1),e.Q6J("ngIf",!a.itemTemplate),e.xp6(1),e.Q6J("ngIf",a.itemTemplate),e.xp6(1),e.Q6J("ngIf",a.isItemVisible(n)&&a.isItemGroup(n))}}function me(s,m){if(1&s&&e.YNc(0,P,1,5,"li",5)(1,oe,6,21,"li",6),2&s){const t=m.$implicit,n=e.oxw();e.Q6J("ngIf",n.isItemVisible(t)&&n.getItemProp(t,"separator")),e.xp6(1),e.Q6J("ngIf",n.isItemVisible(t)&&!n.getItemProp(t,"separator"))}}const re=(s,m)=>({"p-megamenu-root-list":s,"p-submenu-list p-megamenu-submenu":m}),le=["menubutton"],ce=["rootmenu"];function ue(s,m){1&s&&e.GkF(0)}function de(s,m){if(1&s&&(e.TgZ(0,"div",6),e.YNc(1,ue,1,0,"ng-container",7),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.startTemplate)}}function _e(s,m){1&s&&e.GkF(0)}function pe(s,m){if(1&s&&(e.TgZ(0,"div",8),e.YNc(1,_e,1,0,"ng-container",7),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.endTemplate)}}function ge(s,m){1&s&&(e.TgZ(0,"div",8),e.Hsn(1),e.qZA())}const Ie=(s,m)=>({"p-megamenu p-component":!0,"p-megamenu-horizontal":s,"p-megamenu-vertical":m}),fe=["*"];let he=(()=>{class s{el;megaMenu;id;items;itemTemplate;menuId;ariaLabel;ariaLabelledBy;level=0;focusedItemId;disabled=!1;orientation;activeItem;submenu;tabindex=0;root=!1;itemClick=new e.vpe;itemMouseEnter=new e.vpe;menuFocus=new e.vpe;menuBlur=new e.vpe;menuKeydown=new e.vpe;menubarViewChild;constructor(t,n){this.el=t,this.megaMenu=n}onItemClick(t,n){this.getItemProp(n,"command",{originalEvent:t,item:n.item}),this.itemClick.emit({originalEvent:t,processedItem:n,isFocus:!0})}getItemProp(t,n,i=null){return t&&t.item?r.gb.getItemValue(t.item[n],i):void 0}getItemId(t){return t.item&&t.item?.id?t.item.id:`${this.menuId}_${t.key}`}getSubListId(t){return`${this.getItemId(t)}_list`}getItemClass(t){return{...this.getItemProp(t,"class"),"p-menuitem":!0,"p-menuitem-active p-highlight":this.isItemActive(t),"p-focus":this.isItemFocused(t),"p-disabled":this.isItemDisabled(t)}}getItemLabel(t){return this.getItemProp(t,"label")}getSeparatorItemClass(t){return{...this.getItemProp(t,"class"),"p-menuitem-separator":!0}}getColumnClass(t){let i;switch(this.isItemGroup(t)?t.items.length:0){case 2:i="p-megamenu-col-6";break;case 3:i="p-megamenu-col-4";break;case 4:i="p-megamenu-col-3";break;case 6:i="p-megamenu-col-2";break;default:i="p-megamenu-col-12"}return i}getSubmenuHeaderClass(t){return{"p-megamenu-submenu-header p-submenu-header":!0,"p-disabled":this.isItemDisabled(t),...this.getItemProp(t,"class")}}isItemVisible(t){return!1!==this.getItemProp(t,"visible")}isItemActive(t){return!!r.gb.isNotEmpty(this.activeItem)&&this.activeItem.key===t.key}isItemDisabled(t){return this.getItemProp(t,"disabled")}isItemFocused(t){return this.focusedItemId===this.getItemId(t)}isItemGroup(t){return r.gb.isNotEmpty(t.items)}getAriaSetSize(){return this.items.filter(t=>this.isItemVisible(t)&&!this.getItemProp(t,"separator")).length}getAriaPosInset(t){return t-this.items.slice(0,t).filter(n=>this.isItemVisible(n)&&this.getItemProp(n,"separator")).length+1}onItemMouseEnter(t){const{event:n,processedItem:i}=t;this.itemMouseEnter.emit({originalEvent:n,processedItem:i})}static \u0275fac=function(n){return new(n||s)(e.Y36(e.SBq),e.Y36((0,e.Gpc)(()=>k)))};static \u0275cmp=e.Xpm({type:s,selectors:[["p-megaMenuSub"]],viewQuery:function(n,i){if(1&n&&e.Gf(C,7),2&n){let a;e.iGM(a=e.CRH())&&(i.menubarViewChild=a.first)}},hostAttrs:[1,"p-element"],inputs:{id:"id",items:"items",itemTemplate:"itemTemplate",menuId:"menuId",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",level:"level",focusedItemId:"focusedItemId",disabled:"disabled",orientation:"orientation",activeItem:"activeItem",submenu:"submenu",tabindex:"tabindex",root:"root"},outputs:{itemClick:"itemClick",itemMouseEnter:"itemMouseEnter",menuFocus:"menuFocus",menuBlur:"menuBlur",menuKeydown:"menuKeydown"},decls:4,vars:12,consts:[[3,"ngClass","tabindex","keydown","focus","blur"],["menubar",""],["role","presentation",3,"ngClass","style",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","presentation",3,"ngClass"],["role","separator",3,"style","ngClass",4,"ngIf"],["role","menuitem","pTooltip","",3,"ngStyle","ngClass","class","tooltipOptions",4,"ngIf"],["role","separator",3,"ngClass"],["role","menuitem","pTooltip","",3,"ngStyle","ngClass","tooltipOptions"],["listItem",""],[1,"p-menuitem-content",3,"click","mouseenter"],[4,"ngIf"],["class","p-megamenu-panel",4,"ngIf"],["pRipple","",3,"target","ngClass",4,"ngIf"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple","",3,"target","ngClass"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[4,"ngTemplateOutlet"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],["htmlRouteLabel",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-megamenu-panel"],[1,"p-megamenu-grid"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"id","submenu","items","itemTemplate","menuId","focusedItemId","level","root","itemClick","itemMouseEnter",4,"ngFor","ngForOf"],[3,"id","submenu","items","itemTemplate","menuId","focusedItemId","level","root","itemClick","itemMouseEnter"]],template:function(n,i){1&n&&(e.TgZ(0,"ul",0,1),e.NdJ("keydown",function(o){return i.menuKeydown.emit(o)})("focus",function(o){return i.menuFocus.emit(o)})("blur",function(o){return i.menuBlur.emit(o)}),e.YNc(2,w,2,4,"li",2)(3,me,2,2,"ng-template",3),e.qZA()),2&n&&(e.Q6J("ngClass",e.WLB(9,re,i.root,!i.root))("tabindex",i.tabindex),e.uIk("role",i.root?"menubar":"menu")("id",i.id)("aria-orientation",i.orientation)("aria-activedescendant",i.focusedItemId)("data-pc-section",i.root?"root":"submenu"),e.xp6(2),e.Q6J("ngIf",i.submenu),e.xp6(1),e.Q6J("ngForOf",i.items))},dependencies:()=>[u.mk,u.sg,u.O5,u.tP,u.PC,f.rH,f.Od,y.H,b.u,x.L,M.o,s],encapsulation:2})}return s})(),k=(()=>{class s{document;platformId;el;renderer;config;cd;set model(t){this._model=t,this._processedItems=this.createProcessedItems(this._model||[])}get model(){return this._model}style;styleClass;orientation="horizontal";id;ariaLabel;ariaLabelledBy;disabled=!1;tabindex=0;templates;menubutton;rootmenu;startTemplate;endTemplate;menuIconTemplate;submenuIconTemplate;itemTemplate;outsideClickListener;resizeListener;dirty=!1;focused=!1;activeItem=(0,e.tdS)(null);focusedItemInfo=(0,e.tdS)({index:-1,level:0,parentKey:"",item:null});searchValue="";searchTimeout;_processedItems;_model;get visibleItems(){const t=r.gb.isNotEmpty(this.activeItem())?this.activeItem():null;return t&&t.key===this.focusedItemInfo().parentKey?t.items.reduce((n,i)=>(i.forEach(a=>{a.items.forEach(o=>{n.push(o)})}),n),[]):this.processedItems}get processedItems(){return(!this._processedItems||!this._processedItems.length)&&(this._processedItems=this.createProcessedItems(this.model||[])),this._processedItems}get focusedItemId(){const t=this.focusedItemInfo();return t?.item&&t.item?.id?t.item.id:r.gb.isNotEmpty(t.key)?`${this.id}_${t.key}`:null}constructor(t,n,i,a,o,l){this.document=t,this.platformId=n,this.el=i,this.renderer=a,this.config=o,this.cd=l,(0,e.cEC)(()=>{const c=this.activeItem();r.gb.isNotEmpty(c)?(this.bindOutsideClickListener(),this.bindResizeListener()):(this.unbindOutsideClickListener(),this.unbindResizeListener())})}ngOnInit(){this.id=this.id||(0,r.Th)()}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"start":this.startTemplate=t.template;break;case"end":this.endTemplate=t.template;break;case"menuicon":this.menuIconTemplate=t.template;break;case"submenuicon":this.submenuIconTemplate=t.template;break;default:this.itemTemplate=t.template}})}createProcessedItems(t,n=0,i={},a="",o){const l=[];return t&&t.forEach((c,g)=>{const p=(""!==a?a+"_":"")+(void 0!==o?o+"_":"")+g,I={item:c,index:g,level:n,key:p,parent:i,parentKey:a,columnIndex:void 0!==o?o:void 0!==i.columnIndex?i.columnIndex:g};I.items=0===n&&c.items&&c.items.length>0?c.items.map((xe,Me)=>this.createProcessedItems(xe,n+1,I,p,Me)):this.createProcessedItems(c.items,n+1,I,p),l.push(I)}),l}getItemProp(t,n){return t?r.gb.getItemValue(t[n]):void 0}onItemClick(t){const{originalEvent:n,processedItem:i}=t,a=this.isProcessedItemGroup(i),o=r.gb.isEmpty(i.parent);if(this.isSelected(i)){const{index:c,key:g,parentKey:p,item:I}=i;this.activeItem.set(null),this.focusedItemInfo.set({index:c,key:g,parentKey:p,item:I}),this.dirty=!o,_.p.focus(this.rootmenu.menubarViewChild.nativeElement)}else if(a)this.onItemChange(t);else{const c=o?i:this.activeItem();this.hide(n),this.changeFocusedItemInfo(n,c?c.index:-1),_.p.focus(this.rootmenu.menubarViewChild.nativeElement)}}onItemMouseEnter(t){_.p.isTouchDevice()||this.onItemChange(t)}scrollInView(t=-1){const i=_.p.findSingle(this.rootmenu.el.nativeElement,`li[id="${-1!==t?`${this.id}_${t}`:this.focusedItemId}"]`);i&&i.scrollIntoView&&i.scrollIntoView({block:"nearest",inline:"nearest"})}onItemChange(t){const{processedItem:n,isFocus:i}=t;if(r.gb.isEmpty(n))return;const{index:a,key:o,parentKey:l,items:c,item:g}=n,p=r.gb.isNotEmpty(c);p&&this.activeItem.set(n),this.focusedItemInfo.set({index:a,key:o,parentKey:l,item:g}),p&&(this.dirty=!0),i&&_.p.focus(this.rootmenu.menubarViewChild.nativeElement)}hide(t,n){this.activeItem.set(null),this.focusedItemInfo.set({index:-1,key:"",parentKey:"",item:null}),n&&_.p.focus(this.rootmenu.menubarViewChild.nativeElement),this.dirty=!1}onMenuFocus(t){if(this.focused=!0,-1===this.focusedItemInfo().index){const n=this.findFirstFocusedItemIndex(),i=this.findVisibleItem(n);this.focusedItemInfo.set({index:n,key:i.key,parentKey:i.parentKey,item:i.item})}}onMenuBlur(t){this.focused=!1,this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),this.searchValue="",this.dirty=!1}onKeyDown(t){const n=t.metaKey||t.ctrlKey;switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t);break;case"ArrowLeft":this.onArrowLeftKey(t);break;case"ArrowRight":this.onArrowRightKey(t);break;case"Home":this.onHomeKey(t);break;case"End":this.onEndKey(t);break;case"Space":this.onSpaceKey(t);break;case"Enter":this.onEnterKey(t);break;case"Escape":this.onEscapeKey(t);break;case"Tab":this.onTabKey(t);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!n&&r.gb.isPrintableCharacter(t.key)&&this.searchItems(t,t.key)}}findFirstFocusedItemIndex(){const t=this.findSelectedItemIndex();return t<0?this.findFirstItemIndex():t}findFirstItemIndex(){return this.visibleItems.findIndex(t=>this.isValidItem(t))}findSelectedItemIndex(){return this.visibleItems.findIndex(t=>this.isValidSelectedItem(t))}isProcessedItemGroup(t){return t&&r.gb.isNotEmpty(t.items)}isSelected(t){return!!r.gb.isNotEmpty(this.activeItem())&&this.activeItem().key===t.key}isValidSelectedItem(t){return this.isValidItem(t)&&this.isSelected(t)}isValidItem(t){return!!t&&!this.isItemDisabled(t.item)&&!this.isItemSeparator(t.item)}isItemDisabled(t){return this.getItemProp(t,"disabled")}isItemSeparator(t){return this.getItemProp(t,"separator")}isItemMatched(t){return this.isValidItem(t)&&this.getProccessedItemLabel(t).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())}isProccessedItemGroup(t){return t&&r.gb.isNotEmpty(t.items)}searchItems(t,n){this.searchValue=(this.searchValue||"")+n;let i=-1,a=!1;return-1!==this.focusedItemInfo().index?(i=this.visibleItems.slice(this.focusedItemInfo().index).findIndex(o=>this.isItemMatched(o)),i=-1===i?this.visibleItems.slice(0,this.focusedItemInfo().index).findIndex(o=>this.isItemMatched(o)):i+this.focusedItemInfo().index):i=this.visibleItems.findIndex(o=>this.isItemMatched(o)),-1!==i&&(a=!0),-1===i&&-1===this.focusedItemInfo().index&&(i=this.findFirstFocusedItemIndex()),-1!==i&&this.changeFocusedItemInfo(t,i),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),a}getProccessedItemLabel(t){return t?this.getItemLabel(t.item):void 0}getItemLabel(t){return this.getItemProp(t,"label")}changeFocusedItemInfo(t,n){const i=this.findVisibleItem(n);if(r.gb.isNotEmpty(i)){const{key:a,parentKey:o,item:l}=i;this.focusedItemInfo.set({index:n,key:a||"",parentKey:o,item:l})}this.scrollInView()}onArrowDownKey(t){if("horizontal"===this.orientation)if(r.gb.isNotEmpty(this.activeItem())&&this.activeItem().key===this.focusedItemInfo().key){const{key:i,item:a}=this.activeItem();this.focusedItemInfo.set({index:-1,key:"",parentKey:i,item:a})}else{const i=this.findVisibleItem(this.focusedItemInfo().index);if(this.isProccessedItemGroup(i)){const{parentKey:o,key:l,item:c}=i;this.onItemChange({originalEvent:t,processedItem:i}),this.focusedItemInfo.set({index:-1,key:l,parentKey:o,item:c}),this.searchValue=""}}const n=-1!==this.focusedItemInfo().index?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemInfo(t,n),t.preventDefault()}onArrowRightKey(t){const n=this.findVisibleItem(this.focusedItemInfo().index);if(this.isProccessedItemGroup(n)){if("vertical"===this.orientation)if(r.gb.isNotEmpty(this.activeItem())&&this.activeItem().key===n.key)this.focusedItemInfo.set({index:-1,key:"",parentKey:this.activeItem().key,item:n.item});else{const o=this.findVisibleItem(this.focusedItemInfo().index);this.isProccessedItemGroup(o)&&(this.onItemChange({originalEvent:t,processedItem:o}),this.focusedItemInfo.set({index:-1,key:o.key,parentKey:o.parentKey,item:o.item}),this.searchValue="")}const a=-1!==this.focusedItemInfo().index?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemInfo(t,a)}else{const a=n.columnIndex+1,o=this.visibleItems.findIndex(l=>l.columnIndex===a);-1!==o&&this.changeFocusedItemInfo(t,o)}t.preventDefault()}onArrowUpKey(t){if(t.altKey&&"horizontal"===this.orientation){if(-1!==this.focusedItemInfo().index){const n=this.findVisibleItem(this.focusedItemInfo().index);!this.isProccessedItemGroup(n)&&r.gb.isNotEmpty(this.activeItem)&&(0===this.focusedItemInfo().index?(this.focusedItemInfo.set({index:this.activeItem().index,key:this.activeItem().key,parentKey:this.activeItem().parentKey,item:n.item}),this.activeItem.set(null)):this.changeFocusedItemInfo(t,this.findFirstItemIndex()))}t.preventDefault()}else{const n=-1!==this.focusedItemInfo().index?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemInfo(t,n),t.preventDefault()}}onArrowLeftKey(t){const n=this.findVisibleItem(this.focusedItemInfo().index);if(this.isProccessedItemGroup(n)){if("horizontal"===this.orientation){const a=-1!==this.focusedItemInfo().index?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemInfo(t,a)}}else{"vertical"===this.orientation&&r.gb.isNotEmpty(this.activeItem())&&0===n.columnIndex&&(this.focusedItemInfo.set({index:this.activeItem().index,key:this.activeItem().key,parentKey:this.activeItem().parentKey,item:n.item}),this.activeItem.set(null));const a=n.columnIndex-1,o=this.visibleItems.findIndex(l=>l.columnIndex===a);-1!==o&&this.changeFocusedItemInfo(t,o)}t.preventDefault()}onHomeKey(t){this.changeFocusedItemInfo(t,this.findFirstItemIndex()),t.preventDefault()}onEndKey(t){this.changeFocusedItemInfo(t,this.findLastItemIndex()),t.preventDefault()}onSpaceKey(t){this.onEnterKey(t)}onEscapeKey(t){r.gb.isNotEmpty(this.activeItem())&&(this.focusedItemInfo.set({index:this.activeItem().index,key:this.activeItem().key,item:this.activeItem().item}),this.activeItem.set(null)),t.preventDefault()}onTabKey(t){if(-1!==this.focusedItemInfo().index){const n=this.findVisibleItem(this.focusedItemInfo().index);!this.isProccessedItemGroup(n)&&this.onItemChange({originalEvent:t,processedItem:n})}this.hide()}onEnterKey(t){if(-1!==this.focusedItemInfo().index){const n=_.p.findSingle(this.rootmenu.el.nativeElement,`li[id="${this.focusedItemId}"]`),i=n&&_.p.findSingle(n,'a[data-pc-section="action"]');i?i.click():n&&n.click();const a=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(a)&&this.changeFocusedItemInfo(t,this.findFirstFocusedItemIndex())}t.preventDefault()}findVisibleItem(t){return r.gb.isNotEmpty(this.visibleItems)?this.visibleItems[t]:null}findLastFocusedItemIndex(){const t=this.findSelectedItemIndex();return t<0?this.findLastItemIndex():t}findLastItemIndex(){return r.gb.findLastIndex(this.visibleItems,t=>this.isValidItem(t))}findPrevItemIndex(t){const n=t>0?r.gb.findLastIndex(this.visibleItems.slice(0,t),i=>this.isValidItem(i)):-1;return n>-1?n:t}findNextItemIndex(t){const n=t<this.visibleItems.length-1?this.visibleItems.slice(t+1).findIndex(i=>this.isValidItem(i)):-1;return n>-1?n+t+1:t}bindResizeListener(){(0,u.NF)(this.platformId)&&(this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",t=>{this.hide(t,!0)})))}bindOutsideClickListener(){(0,u.NF)(this.platformId)&&(this.outsideClickListener||(this.outsideClickListener=this.renderer.listen(this.document,"click",t=>{this.rootmenu.el.nativeElement!==t.target&&!this.rootmenu.el.nativeElement.contains(t.target)&&this.hide()})))}unbindOutsideClickListener(){this.outsideClickListener&&(this.outsideClickListener(),this.outsideClickListener=null)}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}ngOnDestroy(){this.unbindOutsideClickListener(),this.unbindResizeListener()}static \u0275fac=function(n){return new(n||s)(e.Y36(u.K0),e.Y36(e.Lbi),e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(h.b4),e.Y36(e.sBO))};static \u0275cmp=e.Xpm({type:s,selectors:[["p-megaMenu"]],contentQueries:function(n,i,a){if(1&n&&e.Suo(a,h.jx,4),2&n){let o;e.iGM(o=e.CRH())&&(i.templates=o)}},viewQuery:function(n,i){if(1&n&&(e.Gf(le,5),e.Gf(ce,5)),2&n){let a;e.iGM(a=e.CRH())&&(i.menubutton=a.first),e.iGM(a=e.CRH())&&(i.rootmenu=a.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",style:"style",styleClass:"styleClass",orientation:"orientation",id:"id",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",tabindex:"tabindex"},ngContentSelectors:fe,decls:7,vars:26,consts:[[3,"ngClass","ngStyle"],["class","p-megamenu-start",4,"ngIf"],[3,"itemTemplate","items","menuId","root","orientation","ariaLabel","disabled","tabindex","activeItem","level","ariaLabelledBy","focusedItemId","itemClick","menuFocus","menuBlur","menuKeydown","itemMouseEnter"],["rootmenu",""],["class","p-megamenu-end",4,"ngIf","ngIfElse"],["legacy",""],[1,"p-megamenu-start"],[4,"ngTemplateOutlet"],[1,"p-megamenu-end"]],template:function(n,i){if(1&n&&(e.F$t(),e.TgZ(0,"div",0),e.YNc(1,de,2,1,"div",1),e.TgZ(2,"p-megaMenuSub",2,3),e.NdJ("itemClick",function(o){return i.onItemClick(o)})("menuFocus",function(o){return i.onMenuFocus(o)})("menuBlur",function(o){return i.onMenuBlur(o)})("menuKeydown",function(o){return i.onKeyDown(o)})("itemMouseEnter",function(o){return i.onItemMouseEnter(o)}),e.qZA(),e.YNc(4,pe,2,1,"div",4)(5,ge,2,0,"ng-template",null,5,e.W1O),e.qZA()),2&n){const a=e.MAs(6);e.Tol(i.styleClass),e.Q6J("ngClass",e.WLB(23,Ie,"horizontal"==i.orientation,"vertical"==i.orientation))("ngStyle",i.style),e.uIk("data-pc-section","root")("data-pc-name","megamenu")("id",i.id),e.xp6(1),e.Q6J("ngIf",i.startTemplate),e.xp6(1),e.Q6J("itemTemplate",i.itemTemplate)("items",i.processedItems)("menuId",i.id)("root",!0)("orientation",i.orientation)("ariaLabel",i.ariaLabel)("disabled",i.disabled)("tabindex",i.disabled?-1:i.tabindex)("activeItem",i.activeItem())("level",0)("ariaLabelledBy",i.ariaLabelledBy)("focusedItemId",i.focused?i.focusedItemId:void 0),e.uIk("id",i.id+"_list"),e.xp6(2),e.Q6J("ngIf",i.endTemplate)("ngIfElse",a)}},dependencies:[u.mk,u.O5,u.tP,u.PC,he],styles:["@layer primeng{.p-megamenu-root-list{margin:0;padding:0;list-style:none}.p-megamenu-root-list>.p-menuitem{position:relative}.p-megamenu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-megamenu .p-menuitem-text{line-height:1}.p-megamenu-panel{display:none;position:absolute;width:auto;z-index:1}.p-megamenu-root-list>.p-menuitem-active>.p-megamenu-panel{display:block}.p-megamenu-submenu{margin:0;padding:0;list-style:none}.p-megamenu-horizontal{align-items:center}.p-megamenu-horizontal .p-megamenu-root-list{display:flex;align-items:center;flex-wrap:wrap}.p-megamenu-horizontal .p-megamenu-end{margin-left:auto;align-self:center}.p-megamenu-vertical .p-megamenu-root-list{flex-direction:column}.p-megamenu-vertical .p-megamenu-root-list>.p-menuitem-active>.p-megamenu-panel{left:100%;top:0}.p-megamenu-vertical .p-megamenu-root-list>.p-menuitem>.p-menuitem-content>.p-menuitem-link>.p-submenu-icon:not(svg){margin-left:auto}.p-megamenu-vertical .p-megamenu-root-list>.p-menuitem>.p-menuitem-content>.p-menuitem-link>.p-icon-wrapper{margin-left:auto}.p-megamenu-grid{display:flex}.p-megamenu-col-2,.p-megamenu-col-3,.p-megamenu-col-4,.p-megamenu-col-6,.p-megamenu-col-12{flex:0 0 auto;padding:.5rem}.p-megamenu-col-2{width:16.6667%}.p-megamenu-col-3{width:25%}.p-megamenu-col-4{width:33.3333%}.p-megamenu-col-6{width:50%}.p-megamenu-col-12{width:100%}}\n"],encapsulation:2,changeDetection:0})}return s})(),be=(()=>{class s{static \u0275fac=function(n){return new(n||s)};static \u0275mod=e.oAB({type:s});static \u0275inj=e.cJS({imports:[u.ez,f.Bz,y.T,b.z,h.m8,x.L,M.o,f.Bz,b.z,h.m8]})}return s})()}}]);